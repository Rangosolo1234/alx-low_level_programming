Function that takes alot of arguments
